(function(e){function t(t){for(var s,a,o=t[0],l=t[1],u=t[2],d=0,h=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&h.push(r[a][0]),r[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);c&&c(t);while(h.length)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(s=!1)}s&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},r={app:0},i=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/simulation/final/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"1ff6":function(e,t,n){},4737:function(e,t,n){"use strict";var s=n("5f82"),r=n.n(s);r.a},5340:function(e,t,n){},5580:function(e,t,n){"use strict";var s=n("d329"),r=n.n(s);r.a},5813:function(e,t,n){"use strict";var s=n("1ff6"),r=n.n(s);r.a},"5c0b":function(e,t,n){"use strict";var s=n("9c0c"),r=n.n(s);r.a},"5f82":function(e,t,n){},"99ad":function(e,t,n){},"9c0c":function(e,t,n){},c7b1:function(e,t,n){e.exports=n.p+"img/processing.333d066f.gif"},cb23:function(e,t,n){"use strict";var s=n("99ad"),r=n.n(s);r.a},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],a=(n("5c0b"),n("2877")),o={},l=Object(a["a"])(o,r,i,!1,null,null,null),u=l.exports,c=n("9483");Object(c["a"])("".concat("/simulation/final/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var d=n("8c4f"),h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"index",attrs:{id:"home"}},[s("div",{attrs:{id:"main-content"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.firstLevel,expression:"firstLevel==0"}],attrs:{id:"content"}},[e._m(0),s("div",{attrs:{id:"options"}},[s("div",{attrs:{id:"blank-button"}}),s("button",{staticClass:"option-button",attrs:{id:"first-button",type:"button",name:"button"},on:{click:function(t){return e.getFirstPagesByIndex(1)}}},[e._v("Start A New Simulation")]),s("button",{staticClass:"option-button",attrs:{type:"button",name:"button"},on:{click:function(t){return e.getFirstPagesByIndex(2)}}},[e._v("Import An Existed Simulation")])])]),s("transition-group",{attrs:{name:"bounce"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.firstLevel,expression:"firstLevel==1"}],key:e.firstLevel,staticClass:"start-container"},[s("div",{attrs:{id:"start-container-tab"}},[s("a",{staticClass:"start-tab",class:{"start-tab-active":!e.noJobs}},[e._v(" Job ")]),s("a",{staticClass:"start-tab",class:{"start-tab-active":!e.noArrivalRate}},[e._v(" Arrival Rate ")]),s("a",{staticClass:"start-tab",class:{"start-tab-active":!e.noServerCluster}},[e._v(" Server ")]),s("a",{staticClass:"start-tab",class:{"start-tab-active":!e.noAlgorithm}},[e._v(" Scheduling Algorithm ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.newSimulationPage,expression:"newSimulationPage==0"}],attrs:{id:"start-table-container"}},[s("div",{attrs:{id:"start-table-add"}},[s("a",{attrs:{id:"start-add"},on:{click:function(t){return e.popUpConfigure()}}},[e._v("Add")])]),s("div",{attrs:{id:"start-table-title"}},[s("table",{staticClass:"table-content"},[s("tr",[s("td",{staticClass:"table-td"},[e._v("Job Class")]),s("td",{staticClass:"table-td"},[e._v("Job Size Distribution")]),s("td",{staticClass:"table-td"},[e._v("Speedup Function")]),s("td",{staticClass:"table-td"},[e._v("Proportion")]),s("td",{staticClass:"table-td"},[e._v("Operation")])])])]),s("div",{attrs:{id:"start-table-content"}},[s("transition-group",{attrs:{name:"list",tag:"p"}},e._l(e.currJobs,(function(t,n){return s("table",{key:n,staticClass:"table-content"},[s("tr",[s("td",{staticClass:"table-td"},[e._v("Class_"+e._s(n+1))]),s("td",{staticClass:"table-td"},[e._v(e._s(t.sizeFun)),s("br"),e._v("Parameters: "+e._s(t.sizeFunPara))]),s("td",{staticClass:"table-td"},[e._v(e._s(t.speedupFun)),s("br"),e._v("Parameters: "+e._s(t.speedupFunPara))]),s("td",{staticClass:"table-td proportion"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.proportionVal,expression:"job.proportionVal",modifiers:{number:!0}}],attrs:{type:"number",min:"1",value:"1"},domProps:{value:t.proportionVal},on:{input:function(n){n.target.composing||e.$set(t,"proportionVal",e._n(n.target.value))},blur:function(t){return e.$forceUpdate()}}})]),s("td",{staticClass:"table-td",on:{click:function(t){return e.deleteAJobByIndex(n)}}},[s("a",[e._v("Delete")])])])])})),0)],1),s("div",{staticClass:"last-next"},[s("button",{staticClass:"last-next-button",staticStyle:{float:"left"},attrs:{type:"button",name:"button"},on:{click:function(t){return e.getFirstPagesByIndex(0)}}},[e._v("‚Üê Last")]),s("button",{staticClass:"last-next-button",class:{"last-next-button-noactive":e.noJobs},staticStyle:{float:"right"},attrs:{type:"button",name:"button",disabled:e.noJobs},on:{click:function(t){return e.getPagesByIndex(1)}}},[e._v("Next ‚Üí")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.newSimulationPage,expression:"newSimulationPage==1"}],attrs:{id:"start-rate-container"}},[s("div",{staticClass:"rate-server-input"},[s("span",[e._v("Arrival Rate "),s("br"),s("span",{staticStyle:{"font-size":"12px"}},[e._v("Arrival rate ùúÜ‚â•0 of new jobs")]),s("br"),s("br")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.arrivalRate,expression:"arrivalRate"}],staticClass:"rate-server",attrs:{type:"text",placeholder:"Arrival rate ùúÜ‚â•0 of new jobs"},domProps:{value:e.arrivalRate},on:{input:function(t){t.target.composing||(e.arrivalRate=t.target.value)}}})]),s("div",{staticClass:"last-next"},[s("button",{staticClass:"last-next-button",staticStyle:{float:"left"},attrs:{type:"button",name:"button"},on:{click:function(t){return e.getPagesByIndex(0)}}},[e._v("‚Üê Last")]),s("button",{staticClass:"last-next-button",class:{"last-next-button-noactive":e.noArrivalRate},staticStyle:{float:"right"},attrs:{type:"button",name:"button",disabled:e.noArrivalRate},on:{click:function(t){return e.getPagesByIndex(2)}}},[e._v("Next ‚Üí")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:2==e.newSimulationPage,expression:"newSimulationPage==2"}],attrs:{id:"start-server-container"}},[s("div",{staticClass:"rate-server-input"},[s("span",[e._v("Server Cluster "),s("br"),s("span",{staticStyle:{"font-size":"12px"}},[e._v("Only a single parameter: number of servers ùëÅ > 0")]),s("br"),s("br")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.serverCluster,expression:"serverCluster"}],staticClass:"rate-server",attrs:{type:"text",placeholder:"Only a single parameter: number of servers ùëÅ > 0"},domProps:{value:e.serverCluster},on:{input:function(t){t.target.composing||(e.serverCluster=t.target.value)}}})]),s("div",{staticClass:"last-next"},[s("button",{staticClass:"last-next-button",staticStyle:{float:"left"},attrs:{type:"button",name:"button"},on:{click:function(t){return e.getPagesByIndex(1)}}},[e._v("‚Üê Last")]),s("button",{staticClass:"last-next-button",class:{"last-next-button-noactive":e.noServerCluster},staticStyle:{float:"right"},attrs:{type:"button",name:"button",disabled:e.noServerCluster},on:{click:function(t){return e.getPagesByIndex(3)}}},[e._v("Next ‚Üí")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:3==e.newSimulationPage,expression:"newSimulationPage==3"}],attrs:{id:"start-algorithm-container"}},[s("div",{staticClass:"rate-algorithm-select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.algorithmName,expression:"algorithmName"}],staticClass:"algorithm-select",on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.algorithmName=t.target.multiple?n:n[0]},function(t){return e.algorithmNameChange()}]}},[s("option",{attrs:{value:"equi"}},[e._v("EQUI")]),s("option",{attrs:{value:"selfdefined"}},[e._v("Self-defined")])])]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.algorithm,expression:"algorithm"}],staticClass:"textarea",attrs:{placeholder:"Please input the algorithm"},domProps:{value:e.algorithm},on:{input:function(t){t.target.composing||(e.algorithm=t.target.value)}}}),s("div",{staticClass:"last-next"},[s("button",{staticClass:"last-next-button",staticStyle:{float:"left"},attrs:{type:"button",name:"button"},on:{click:function(t){return e.getPagesByIndex(2)}}},[e._v("‚Üê Last")]),s("button",{staticClass:"last-next-button",class:{"last-next-button-noactive":e.noAlgorithm},staticStyle:{float:"right","background-color":"#36bea6"},attrs:{type:"button",name:"button",disabled:e.noAlgorithm},on:{click:function(t){return e.getPagesByIndex(4)}}},[e._v("Simulate")])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:2==e.firstLevel,expression:"firstLevel==2"}],key:e.firstLevel+100,staticClass:"start-container"},[s("file-pond",{ref:"pond",attrs:{name:"test","label-idle":"Click to upload file...","allow-multiple":!1,"accepted-file-types":"application/json",files:e.myFiles},on:{addfile:e.handleFileAdded,removefile:e.handleFileRemove,init:e.handleFilePondInit}}),s("div",{staticClass:"processing"},[s("img",{directives:[{name:"show",rawName:"v-show",value:0!=e.fileContent.length,expression:"fileContent.length != 0"}],attrs:{src:n("c7b1"),alt:""}})]),s("div",{staticClass:"last-next"},[s("button",{staticClass:"last-next-button",staticStyle:{margin:"auto"},attrs:{type:"button",name:"button"},on:{click:function(t){return e.getFirstPagesByIndex(0)}}},[e._v("Back")])])],1)])],1)])},m=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"content-title"}},[n("h3",{attrs:{id:"from-here"}},[e._v("Simulation System")]),n("p",{attrs:{id:"welcome"}},[e._v("Welcome, please choose one of the options")])])}],v=(n("a434"),n("3d20")),p=n.n(v),g=n("1501"),f=n.n(g),b=(n("4ed3"),n("1942")),C=n.n(b),L=f()(C.a);window.option1Change=function(){var e=document.getElementById("swal-select1"),t=document.getElementById("swal-input1");"deterministic"==e.value?t.value="1":"uniform"==e.value?t.value="0,2":"exponential"==e.value?t.value="1":"erlang"==e.value?t.value="2,1":"pareto"==e.value&&(t.value="2,1,2")},window.option2Change=function(){var e=document.getElementById("swal-select2"),t=document.getElementById("swal-input2");"power"==e.value?t.value="0.5":"amdahl"==e.value?t.value="0.5":"manual"==e.value&&(t.value="2")};var A={name:"index",data:function(){return{firstLevel:0,newSimulationPage:0,currJobs:this.GLOBAL.schedCore.config.jobs,arrivalRate:this.GLOBAL.schedCore.config.arrivalRate,serverCluster:this.GLOBAL.schedCore.config.serverCluster,algorithmName:this.GLOBAL.schedCore.config.algorithmName,algorithm:this.getAl(),myFiles:[],fileContent:""}},components:{FilePond:L},mounted:function(){},computed:{noJobs:function(){return null==this.currJobs.length||0==this.currJobs.length},noArrivalRate:function(){return null==this.arrivalRate||""==this.arrivalRate||this.arrivalRate<0||isNaN(this.arrivalRate)},noServerCluster:function(){return null==this.serverCluster||""==this.serverCluster||this.serverCluster<0||isNaN(this.serverCluster)},noAlgorithm:function(){return null==this.algorithmName||""==this.algorithmName||null==this.algorithm||""==this.algorithm}},watch:{arrivalRate:function(e,t){""==this.arrivalRate||isNaN(this.arrivalRate)?isNaN(e)?this.GLOBAL.schedCore.config.arrivalRate=1:this.GLOBAL.schedCore.config.arrivalRate=e:this.GLOBAL.schedCore.config.arrivalRate=this.arrivalRate},serverCluster:function(e,t){""==this.serverCluster||isNaN(this.serverCluster)?isNaN(e)?this.GLOBAL.schedCore.config.serverCluster=16:this.GLOBAL.schedCore.config.serverCluster=e:this.GLOBAL.schedCore.config.serverCluster=this.serverCluster},algorithmName:function(e,t){this.GLOBAL.schedCore.config.algorithmName=this.algorithmName},algorithm:function(e,t){this.GLOBAL.schedCore.config.algorithm=this.algorithm}},methods:{popUpConfigure:function(){var e=this,t=p.a.fire({title:"Add a new job class",html:'<div style="width:100%;text-align:center;">Select A Job Size Distribution</div><select class="swal2-select" onchange="option1Change()" id="swal-select1" style="display: flex;">                             <option value="deterministic">Deterministic Dùëíùë°(ùëê)</option>                             <option value="uniform">Uniform Uùëõùëñùëì(ùëé,ùëè)</option>                             <option value="exponential">Exponential Eùë•ùëù(ùúÜ)</option>                             <option value="erlang">Erlang Eùëüùëôùëéùëõùëî(ùëõ,ùúÜ)</option>                             <option value="pareto">Pareto Pùëéùëüùëíùë°ùëú(ùõº,ùúé,ùúá)</option>                         </select><input id="swal-input1" class="swal2-input" value="1" placeholder="please input parameters (separated by comma)"><hr/><div style="width:100%;text-align:center;">Select A Speedup Function</div><select class="swal2-select" id="swal-select2" style="display: flex;">                             <option value="power">Power function</option>                             <option value="amdahl">Amdahl‚Äôs law</option>                             <option value="manual">Manual</option>                         </select><input id="swal-input2" class="swal2-input" value="0.5" placeholder="please input parameters (separated by comma)">',focusConfirm:!1,preConfirm:function(){return[document.getElementById("swal-select1").value,document.getElementById("swal-input1").value,document.getElementById("swal-select2").value,document.getElementById("swal-input2").value]}}).then((function(t){if(t.value){var n={id:e.GLOBAL.schedCore.config.jobs.length,sizeFun:t.value[0],sizeFunPara:t.value[1],speedupFun:t.value[2],speedupFunPara:t.value[3],proportionVal:1,color:"rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+")"};e.GLOBAL.schedCore.config.jobs.unshift(n)}}));t.value},deleteAJobByIndex:function(e){this.GLOBAL.schedCore.config.jobs.splice(e,1)},algorithmNameChange:function(){"equi"!=this.algorithmName?this.algorithm="":this.algorithm=this.getAl()},getFirstPagesByIndex:function(e){this.firstLevel=e,this.fileContent=""},initialize:function(){for(var e=0;e<this.GLOBAL.schedCore.config.jobs.length;e++){var t=this.GLOBAL.schedCore.config.jobs[e];this.GLOBAL.schedCore.running.jobGeneratorQueue.push(new this.GLOBAL.Objects.JobGenerator(t))}this.GLOBAL.schedCore.status=!1,this.globalTime=0,this.GLOBAL.schedCore.running.queue=[],this.GLOBAL.schedCore.running.jobsDict={},this.GLOBAL.schedCore.running.completedQueue=[],this.GLOBAL.schedCore.running.totalCostTimeForCompletedJobs=0,this.GLOBAL.schedCore.running.jobGeneratorQueue=[],this.GLOBAL.schedCore.running.totalJobsNum=0,this.GLOBAL.schedCore.running.currentMeanTime=0,this.GLOBAL.schedCore.running.availableNodeNum=this.GLOBAL.schedCore.config.serverCluster,this.GLOBAL.schedCore.running.serverTaskList=[],this.GLOBAL.schedCore.running.serverLog=[],this.GLOBAL.schedCore.running.meanTimeLog=[]},getPagesByIndex:function(e){1==e?(this.GLOBAL.schedCore.config.jobs=this.currJobs,this.recalculateLamda()?this.newSimulationPage=e:alert("Please type a positive number for Proportion")):e<4?this.newSimulationPage=e:(this.initialize(),this.$router.push({name:"Simulation"}))},recalculateLamda:function(){for(var e=-1,t=this.GLOBAL.schedCore.config.arrivalRate,n=this.GLOBAL.schedCore.config.jobs,s=0;s<n.length;s++){if(n[s].proportionVal<=0)return!1;e<n[s].proportionVal&&(e=n[s].proportionVal)}for(var r=0;r<n.length;r++)n[r].proportionVal=t*(n[r].proportionVal/e);return!0},handleFileAdded:function(){var e=this.$refs.pond.getFiles();if(e.length>0){var t=this.$refs.pond.getFiles()[0].file,n=new FileReader;n.readAsBinaryString(t);var s=this;n.onloadend=function(){s.fileContent=n.result,s.processUploadFile(),s.fileContent=""}}else alert("please upload file!")},handleFilePondInit:function(){},handleFileRemove:function(){this.fileContent=""},processUploadFile:function(){try{for(var e=JSON.parse(this.fileContent),t=[],n=0;n<e.running.queue.length;n++){var s=e.running.queue[n].jobClass+"_"+e.running.queue[n].id;t.push(e.running.jobsDict[s])}for(var r=[],i=0;i<e.running.completedQueue.length;i++){var a=e.running.completedQueue[i].jobClass+"_"+e.running.completedQueue[i].id;r.push(e.running.jobsDict[a])}for(var o=[],l=0;l<e.running.serverTaskList.length;l++){var u=e.running.serverTaskList[l].jobClass+"_"+e.running.serverTaskList[l].id;o.push(e.running.jobsDict[u])}e.running.queue=t,e.running.completedQueue=r,e.running.serverTaskList=r,this.GLOBAL.schedCore=e,this.$router.push({name:"Simulation"})}catch(c){alert("The file is not a JSON string or lost some fileds, please see the console")}},getAl:function(){return"\n\n            function shedulingAlgorithm(queue, serverInfo, jobsDict, completedQueue, jobGeneratorQueue, currentTime) {\n\n                serverInfo.serverTaskList.sort(function(a, b){\n                    return a.leftTime - b.leftTime\n                })\n                var doneJobs = []\n                var allowRunTime = 0\n                var currentAvailableNodeNum = serverInfo.availableNodeNum\n                if(serverInfo.serverTaskList.length != 0) {\n                    doneJobs.push(serverInfo.serverTaskList[0]);\n                    for(var i = 1; i < serverInfo.serverTaskList.length; i++) {\n                        if(serverInfo.serverTaskList[0].leftTime == serverInfo.serverTaskList[i].leftTime) {\n                            doneJobs.push(serverInfo.serverTaskList[i])\n                        }else {\n                            break;\n                        }\n                    }\n                }\n                if(doneJobs.length != 0) {\n                    allowRunTime = doneJobs[0].leftTime\n                }\n                for(var j = 0; j < doneJobs.length; j++) {\n                    currentAvailableNodeNum += doneJobs[j].usedNodeNumber\n                    var currJob = doneJobs[0]\n                    currJob.currentSize = 0\n                    currJob.leftTime = 0\n                    currJob.usedNodeNumber = 0\n                    currJob.speedup = 0\n                    currJob.completedTime = currentTime + allowRunTime\n                    currJob.log.push({\n                        time: currentTime + allowRunTime,\n                        size: 0\n                    })\n                    schedCore.running.totalCostTimeForCompletedJobs += currJob.completedTime - currJob.generateTime\n                    schedCore.running.currentMeanTime = getMeanTime()\n\n                    schedCore.running.meanTimeLog.push(\n                        {\n                            totalTime: schedCore.running.totalCostTimeForCompletedJobs,\n                            num: schedCore.running.completedQueue.length,\n                            meanTime: schedCore.running.currentMeanTime\n                        }\n                    )\n                    completedQueue.push(currJob)\n                    serverInfo.serverTaskList.shift()\n                }\n                // handle remaining jobs in the task list\n                for(var k = 0; k < serverInfo.serverTaskList.length; k++) {\n                    var currJob_1 = serverInfo.serverTaskList[k]\n                    currJob_1.currentSize -= currJob_1.speedup * allowRunTime\n                    currJob_1.leftTime = currJob_1.currentSize / currJob_1.speedup\n                }\n                var newJobs = []\n                var newJobsObj = getNewJobs(jobGeneratorQueue, allowRunTime)\n\n                newJobs = newJobsObj.newJobs\n                queue = queue.concat(newJobs)\n\n                // add new jobs to queue\n\n                while(currentAvailableNodeNum > 0){\n                    if(queue.length > 0) {\n                        serverInfo.serverTaskList.push(queue[0])\n                        queue.shift()\n                        currentAvailableNodeNum -= 1\n                    }else {\n                        break\n                    }\n                }\n\n                currentTime += allowRunTime\n                if(currentTime < newJobsObj.currentTime) {\n                    currentTime = newJobsObj.currentTime\n                }\n\n                // reassign variable for jobs\n                if(serverInfo.serverTaskList.length != 0) {\n                    currentAvailableNodeNum = 0\n                    var mod = serverInfo.serverNum % serverInfo.serverTaskList.length\n                    var nodeNum = Math.floor(serverInfo.serverNum / serverInfo.serverTaskList.length)\n\n                    for(var l = 0; l < serverInfo.serverTaskList.length; l++) {\n                        var currJob_2 = serverInfo.serverTaskList[l]\n                        currJob_2.usedNodeNumber = nodeNum\n                        currJob_2.speedup = speedUpFunc(currJob_2.speedupFun, currJob_2.speedupFunPara, nodeNum)\n                        currJob_2.leftTime = currJob_2.currentSize / currJob_2.speedup\n                        currJob_2.log.push({\n                            time: currentTime,\n                            size: currJob_2.currentSize,\n                        })\n                    }\n                    if(mod != 0) {\n                        serverInfo.serverTaskList[0].usedNodeNumber += mod\n                        serverInfo.serverTaskList[0].speedup = speedUpFunc(serverInfo.serverTaskList[0].speedupFun, serverInfo.serverTaskList[0].speedupFunPara, serverInfo.serverTaskList[0].usedNodeNumber)\n                    }\n                }\n                // console.log(serverInfo.serverTaskList)\n\n\n\n                var slog = {\n                    time: currentTime,\n                    usedNumber: serverInfo.serverNum - currentAvailableNodeNum,\n                    list: []\n                }\n                for(var q = 0; q < serverInfo.serverTaskList.length; q++) {\n                    slog.list.push({\n                        name: serverInfo.serverTaskList[q].name,\n                        number: serverInfo.serverTaskList[q].usedNodeNumber\n                    })\n                }\n                schedCore.running.serverLog.push(slog)\n                var res = {\n                    queue: queue,\n                    serverInfo: {\n                            serverTaskList: serverInfo.serverTaskList,\n                            serverNum: serverInfo.serverNum,\n                            availableNodeNum: currentAvailableNodeNum,\n                    },\n                    jobsDict: jobsDict,\n                    completedQueue: completedQueue,\n                    jobGeneratorQueue: jobGeneratorQueue,\n                    currentTime: currentTime,\n                    serverLog: schedCore.running.serverLog\n                }\n                return res\n\n            }\n            "}}},T=A,w=(n("5580"),Object(a["a"])(T,h,m,!1,null,"3784129d",null)),B=w.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"simulation"}},[n("div",{attrs:{id:"nav"}},[n("div",{attrs:{id:"logo"},on:{click:function(t){return e.goToHome()}}},[e._m(0),n("span",{staticClass:"logo-title"},[e._v("Simulation System")])]),n("div",{attrs:{id:"icon-button"}},[n("span",{on:{click:function(t){return e.saveFile()}}},[n("i",{staticClass:"left-iconfont menu-icon",staticStyle:{color:"#0780df!important"}},[e._v("Óò©")])]),n("span",{directives:[{name:"show",rawName:"v-show",value:!this.status,expression:"!this.status"}],on:{click:function(t){return e.callShedulingAlgorithmTimer()}}},[n("i",{staticClass:"left-iconfont menu-icon",staticStyle:{color:"#36bea6!important"}},[e._v(" Óõü")])]),n("span",{directives:[{name:"show",rawName:"v-show",value:this.status,expression:"this.status"}],on:{click:function(t){return e.cancelTimeHandler()}}},[n("i",{staticClass:"left-iconfont menu-icon",staticStyle:{color:"#f62d51!important"}},[e._v("Óôû")])]),n("span",{staticClass:" menu-icon"},[e._v("|")]),n("span",{directives:[{name:"show",rawName:"v-show",value:!this.status,expression:"!this.status"}],staticClass:"menu-icon",staticStyle:{color:"#f62d51!important"}},[e._v("stoping")]),n("span",{directives:[{name:"show",rawName:"v-show",value:this.status,expression:"this.status"}],staticClass:"menu-icon",staticStyle:{color:"#36bea6!important"}},[e._v("runing")])])]),n("div",{attrs:{id:"wrap"}},[n("div",{attrs:{id:"left"}},[n("div",{staticStyle:{width:"100%",height:"60px"}}),n("div",{attrs:{id:"left-top"}}),n("div",{attrs:{id:"left-down"}},[n("span",{staticClass:"left-icon-name",class:{"options-focus":0==e.menuOptions},on:{click:function(t){return e.getViewByIndex(0)}}},[n("i",{staticClass:"left-iconfont"},[e._v("Óôπ")]),n("span",{staticClass:"left-name"},[e._v("Overview")])]),n("span",{staticClass:"left-icon-name",class:{"options-focus":1==e.menuOptions},on:{click:function(t){return e.getViewByIndex(1)}}},[n("i",{staticClass:"left-iconfont"},[e._v("Óôπ")]),n("span",{staticClass:"left-name"},[e._v("Mean Time")])]),n("span",{staticClass:"left-icon-name",class:{"options-focus":2==e.menuOptions},on:{click:function(t){return e.getViewByIndex(2)}}},[n("i",{staticClass:"left-iconfont"},[e._v("Óôπ")]),n("span",{staticClass:"left-name"},[e._v("Utilization")])])])]),n("div",{attrs:{id:"right"}},[n("div",{attrs:{id:"right-title"}},[e._v(" "+e._s(e.menuName)+" ")]),n("div",{attrs:{id:"right-view"}},[n(e.currentView,{ref:e.currentView,tag:"right-component"})],1)])])])},J=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"logo-img"},[s("img",{attrs:{src:n("cf05"),alt:"simulation system"}})])}],x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"overview"}},[n("div",{attrs:{id:"threepanels"}},[n("div",{staticClass:"panel",attrs:{id:"left-panel"}},[n("div",{staticClass:"left-panel-graph"},[n("apexchart",{attrs:{type:"line",height:"60",width:"100%",options:e.totalJobsChartOptions,series:e.totalJobsSeries}})],1),n("div",{staticClass:"left-panel-text"},[n("h4",{staticClass:"panel-text-top"},[e._v("Total Jobs Number")]),n("h2",{staticClass:"panel-text-bottom"},[e._v(e._s(e.totalJobsNum))])])]),n("div",{staticClass:"panel",attrs:{id:"right-panel"}},[n("div",{staticClass:"left-panel-graph"},[n("apexchart",{attrs:{type:"area",height:"60",width:"100%",options:e.meanTimeChartOptions,series:e.meanTimeSeries}})],1),n("div",{staticClass:"left-panel-text"},[n("h4",{staticClass:"panel-text-top"},[e._v(" Mean Time")]),n("h2",{staticClass:"panel-text-bottom"},[e._v(e._s(e.meanTime))])])]),n("div",{staticClass:"panel",attrs:{id:"middle-panel"}},[n("div",{staticClass:"left-panel-graph"},[n("apexchart",{attrs:{type:"bar",height:"60",width:"100%",options:e.completedJobsChartOptions,series:e.completedJobsSeries}})],1),n("div",{staticClass:"left-panel-text"},[n("h4",{staticClass:"panel-text-top",on:{click:function(t){return e.test()}}},[e._v("Completed Jobs Number")]),n("h2",{staticClass:"panel-text-bottom"},[e._v(e._s(e.completedJobsNum))])])])]),n("div",{attrs:{id:"overview-content"}},[n("div",{attrs:{id:"overview-content-top"}}),n("div",{attrs:{id:"overview-content-bottom"}},[n("div",{attrs:{id:"ocb-left"}},[n("div",{attrs:{id:"ocb-left-left"}},e._l(e.jobGenerator,(function(t,s){return n("div",{key:s,staticClass:"ocb-job-generator",style:{backgroundColor:t["color"],height:100/e.jobGenerator.length+"%"}},[e._v(" G_"+e._s(t.id)+" "),n("strong",[e._v("("+e._s(t.totalNumber)+")")])])})),0),n("div",{attrs:{id:"ocb-left-right"}},[n("div",{attrs:{id:"ocb-left-right-top"}}),n("div",{attrs:{id:"ocb-left-right-middle"}},[e._v(" Queue ("+e._s(e.queueSize)+") ")])])]),n("div",{attrs:{id:"ocb-right"}},[n("div",{attrs:{id:"server"}},[n("table",{attrs:{id:"server-table"}},[n("tr",{staticClass:"table-tr"},[n("td",{attrs:{colspan:"3"}},[e._v("Server "),n("br"),e._v("Handling "+e._s(e.serverProcessNum)+" jobs")])]),e._m(0),e._m(1),e._m(2),e._m(3),e._m(4),e._m(5)])])])])])])},N=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"table-tr"},[n("td",{staticClass:"td1"}),n("td",{staticClass:"td2"}),n("td",{staticClass:"td2"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"table-tr"},[n("td",{staticClass:"td1"}),n("td",{staticClass:"td2"}),n("td",{staticClass:"td2"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"table-tr"},[n("td",{staticClass:"td1"}),n("td",{staticClass:"td2"}),n("td",{staticClass:"td2"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"table-tr"},[n("td",{staticClass:"td1"}),n("td",{staticClass:"td2"}),n("td",{staticClass:"td2"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"table-tr"},[n("td",{staticClass:"td1"}),n("td",{staticClass:"td2"}),n("td",{staticClass:"td2"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"table-tr"},[n("td",{staticClass:"td1"}),n("td",{staticClass:"td2"}),n("td",{staticClass:"td2"})])}],S=(n("fb6a"),n("b680"),n("1321")),k=n.n(S),O=n("cffa"),G={name:"Overview",data:function(){return{totalJobsSeries:[{data:this.GLOBAL.schedCore.running.lastEleventJobs}],totalJobsChartOptions:{chart:{sparkline:{enabled:!0}},stroke:{curve:"straight"},xaxis:{crosshairs:{width:1}},yaxis:{min:0},tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(e){return"Size: "}}},marker:{show:!1}}},completedJobsSeries:[{data:this.getLastElevenCompletedJobs()}],completedJobsChartOptions:{chart:{height:35,sparkline:{enabled:!0}},plotOptions:{bar:{columnWidth:"80%"}},xaxis:{crosshairs:{width:1}},tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(e){return"Size: "}}},marker:{show:!1}}},meanTimeSeries:[{data:this.getLastElevenMeanTime()}],meanTimeChartOptions:{chart:{height:35,sparkline:{enabled:!0}},plotOptions:{bar:{columnWidth:"80%"}},xaxis:{crosshairs:{width:1}},tooltip:{fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(e){return"Mean time: "}}},marker:{show:!1}}},totalJobsNum:this.GLOBAL.schedCore.running.totalJobsNum,completedJobsNum:this.GLOBAL.schedCore.running.completedQueue.length,meanTime:this.GLOBAL.schedCore.running.currentMeanTime.toFixed(4),queueSize:this.GLOBAL.schedCore.running.queue.length,serverProcessNum:this.GLOBAL.schedCore.running.serverTaskList.length,jobGenerator:this.GLOBAL.schedCore.running.jobGeneratorQueue}},components:{apexchart:k.a},watch:{seriesSpark4:function(e){this.seriesSpark4=e}},mounted:function(){document.getElementById("overview-content").style.height=document.body.offsetHeight-270+"px",document.getElementById("ocb-left-right-middle").style.lineHeight=document.getElementById("ocb-left-right-middle").offsetHeight+"px";for(var e=document.getElementsByClassName("ocb-job-generator"),t=document.getElementById("ocb-left-left").offsetHeight/this.jobGenerator.length,n=0;n<e.length;n++)e[n].style.lineHeight=t+"px";window.onresize=function(){document.getElementById("overview-content").style.height=document.body.offsetHeight-270+"px",document.getElementById("ocb-left-right-middle").style.lineHeight=document.getElementById("ocb-left-right-middle").offsetHeight+"px";for(var e=document.getElementsByClassName("ocb-job-generator"),t=document.getElementById("ocb-left-left").offsetHeight/this.jobGenerator.length,n=0;n<e.length;n++)e[n].style.lineHeight=t+"px"}},methods:{changeData:function(){var e=this;setInterval((function(){var t=[{data:e.seriesSpark4[0].data}];e.seriesSpark4=t,e.seriesSpark4[0].data[Math.ceil(10*Math.random())]=Math.ceil(10*Math.random()+20)}),1e3)},changeGlobalData:function(e){this.totalJobsNum=this.GLOBAL.schedCore.running.totalJobsNum,this.completedJobsNum=this.GLOBAL.schedCore.running.completedQueue.length,this.queueSize=this.GLOBAL.schedCore.running.queue.length,this.serverProcessNum=this.GLOBAL.schedCore.running.serverTaskList.length,this.jobGenerator=this.GLOBAL.schedCore.running.jobGeneratorQueue,this.meanTime=this.GLOBAL.schedCore.running.currentMeanTime.toFixed(4),this.totalJobsSeries=[{data:this.GLOBAL.schedCore.running.lastEleventJobs}],this.completedJobsSeries=[{data:this.getLastElevenCompletedJobs()}],this.meanTimeSeries=[{data:this.getLastElevenMeanTime()}]},test:function(){console.log(this.totalJobsSeries)},animation:function(){var e=document.getElementById("job1"),t=document.getElementById("queueobj"),n=document.getElementById("server-table"),s=document.getElementById("complete"),r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),a=(n.getBoundingClientRect(),s.getBoundingClientRect(),{x:r.x+r.width,y:r.y+r.height/2}),o={x:i.x-r.width-r.x,y:i.y+i.height/2-r.y-r.height/2},l=(i.x,i.width,i.y,i.height,document.createElement("div"));l.setAttribute("id","realjob"),l.style.height="20px",l.style.width="20px",l.style.backgroundColor="red",l.style.position="absolute",l.style.left=a.x+"px",l.style.top=a.y+"px",document.body.appendChild(l);var u=O["a"].timeline(),c="#realjob";u.to(c,{duration:1,x:o.x,y:o.y})},getLastElevenCompletedJobs:function(){var e=[],t=0,n=this.GLOBAL.schedCore.running.completedQueue.length;n>11&&(t=n-11);for(var s=t;s<n;s++)e.push(this.GLOBAL.schedCore.running.completedQueue[s].size.toFixed(4));return e},getLastElevenMeanTime:function(){var e=[],t=0,n=this.GLOBAL.schedCore.running.meanTimeLog.length;n>11&&(t=n-11);for(var s=t;s<n;s++)e.push(this.GLOBAL.schedCore.running.meanTimeLog[s].meanTime.toFixed(4));return e}},created:function(){}},I=G,E=(n("4737"),Object(a["a"])(I,x,N,!1,null,"41af60d8",null)),j=E.exports,F=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},_=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"meantime"},[n("div",{attrs:{id:"main"}})])}],Q=n("313e"),P={name:"MeanTime",data:function(){return{meanTime:this.getList("meanTime"),numList:this.getList("numList")}},mounted:function(){this.generateGraph()},methods:{getList:function(e){for(var t=[],n=this.GLOBAL.schedCore.running.meanTimeLog.length,s=0;s<n;s++)"meanTime"==e?t.push(this.GLOBAL.schedCore.running.meanTimeLog[s].meanTime):t.push(this.GLOBAL.schedCore.running.meanTimeLog[s].num);return t},changeGlobalData:function(e){},generateGraph:function(){var e=Q.init(document.getElementById("main"));e.setOption({tooltip:{trigger:"axis",position:function(e){return[e[0],"10%"]}},title:{left:"center",text:"Mean Time",textStyle:{color:"#c4c6cd"}},textStyle:{color:"white",fontSize:14},toolbox:{feature:{}},xAxis:{type:"category",boundaryGap:!1,data:this.numList},yAxis:{type:"value",boundaryGap:[0,"100%"]},dataZoom:[{type:"inside",start:0,end:10},{start:0,end:10,handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.9)",shadowOffsetX:2,shadowOffsetY:2}}],series:[{name:"Mean Time",type:"line",smooth:!0,symbol:"none",sampling:"average",itemStyle:{color:"#008ffb"},areaStyle:{color:new Q.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#afdafe"},{offset:1,color:"#f3f9ff"}])},data:this.meanTime}]})}},components:{}},z=P,M=(n("5813"),Object(a["a"])(z,F,_,!1,null,"0956fc8e",null)),R=M.exports,V=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},U=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"utilizations"},[n("div",{attrs:{id:"main"}})])}],D=(n("b0c0"),n("d3b7"),n("25f0"),n("313e")),q={name:"Utilizations",data:function(){return{time:[],utilizationsList:[]}},mounted:function(){this.getList(),this.generateGraph()},methods:{getList:function(){for(var e=this.GLOBAL.schedCore.running.serverLog.length,t=0;t<this.GLOBAL.schedCore.config.serverCluster;t++){var n={name:1,type:"bar",stack:"sta1",label:{normal:{show:!0,position:"inside"}},color:"#"+(16777215*Math.random()<<0).toString(16),data:[]};this.utilizationsList.push(n)}for(var s=0;s<e;s++){var r=this.GLOBAL.schedCore.running.serverLog[s];this.time.push(r.time.toFixed(5));for(var i=0;i<this.GLOBAL.schedCore.config.serverCluster;i++)i>=r.list.length?this.utilizationsList[i].data.push("-"):this.utilizationsList[i].data.push({name:r.list[i].name,value:r.list[i].number})}},changeGlobalData:function(e){},generateGraph:function(){var e=D.init(document.getElementById("main")),t=this;e.setOption({animation:!0,title:{text:"Utilizations",left:"center",textStyle:{color:"#c4c6cd"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},triggerOn:"mousemove|click"},textStyle:{color:"white",fontSize:14},dataZoom:[{show:!0,type:"slider",start:0,end:1,orient:"horizontal"},{show:!0,type:"inside",start:50,end:95,orient:"horizontal"}],grid:{left:"3%",right:"10%",bottom:"7%",containLabel:!0},yAxis:{type:"value",label:"Number",name:"Count",nameLocation:"center",nameGap:40},xAxis:{type:"category",name:"Time",nameLocation:"center",nameGap:40,data:t.time,axisTick:{alignWithLabel:!1},boundaryGap:!0,splitLine:{show:!1}},series:this.utilizationsList}),e.on("dblclick",(function(e){var t=e.dataIndex;this.popupDetail(t)}))},popupDetail:function(e){}},components:{}},K=q,W=(n("cb23"),Object(a["a"])(K,V,U,!1,null,"4e2f186e",null)),Z=W.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[e._v(" Jobs ")])},Y=[],X={name:"Jobs"},$=X,ee=Object(a["a"])($,H,Y,!1,null,"4e9dadd9",null),te=ee.exports,ne=n("21a6"),se=n.n(ne),re={name:"Simulation",data:function(){return{menuOptions:0,menuName:"Overview",currentView:"Overview",config:this.GLOBAL.schedCore.config,status:this.GLOBAL.schedCore.status,timerHandler:null}},components:{Overview:j,MeanTime:R,Utilizations:Z,Jobs:te},mounted:function(){var e=this.GLOBAL.schedCore.config;0!=e.jobs.length&&null!=e.arrivalRate&&null!=e.serverCluster||this.$router.push({name:"Index"}),this.initialize()},methods:{goToHome:function(){this.$router.push({name:"Index"})},getViewByIndex:function(e){0==e?(this.menuName="Overview",this.currentView="Overview"):1==e?(this.menuName="Mean Time",this.currentView="MeanTime"):2==e?(this.menuName="Utilization",this.currentView="Utilizations"):3==e&&(this.menuName="Jobs",this.currentView="Jobs"),this.menuOptions=e},saveFile:function(){if(this.GLOBAL.schedCore.status)alert("You should stop first");else{var e=new Blob([JSON.stringify(this.GLOBAL.schedCore)],{type:"text/plain;charset=utf-8"});se.a.saveAs(e,"simulation.json")}},control:function(){this.status=!this.status,this.GLOBAL.schedCore.status=this.status},initialize:function(){if(0==this.GLOBAL.schedCore.running.jobGeneratorQueue.length){for(var e=0;e<this.GLOBAL.schedCore.config.jobs.length;e++){var t=this.GLOBAL.schedCore.config.jobs[e];this.GLOBAL.schedCore.running.jobGeneratorQueue.push(new this.GLOBAL.Objects.JobGenerator(t))}this.GLOBAL.schedCore.running.availableNodeNum=this.GLOBAL.schedCore.config.serverCluster}},callShedulingAlgorithmTimer:function(){var e=this;this.control(),this.timerHandler=setInterval((function(){e.callShedulingAlgorithm()}),100)},cancelTimeHandler:function(){this.control(),clearInterval(this.timerHandler)},callShedulingAlgorithm:function(){var e=this.GLOBAL.shedulingAlgorithm(this.GLOBAL.schedCore,this.GLOBAL.schedCore.running.queue,{serverTaskList:this.GLOBAL.schedCore.running.serverTaskList,serverNum:this.GLOBAL.schedCore.config.serverCluster,availableNodeNum:this.GLOBAL.schedCore.running.availableNodeNum},this.GLOBAL.schedCore.running.jobsDict,this.GLOBAL.schedCore.running.completedQueue,this.GLOBAL.schedCore.running.jobGeneratorQueue,this.GLOBAL.schedCore.globalTime);this.GLOBAL.schedCore=e.schedCore,this.GLOBAL.schedCore.running.queue=e.queue,this.GLOBAL.schedCore.running.serverTaskList=e.serverInfo.serverTaskList,this.GLOBAL.schedCore.running.availableNodeNum=e.serverInfo.availableNodeNum,this.GLOBAL.schedCore.running.jobsDict=e.jobsDict,this.GLOBAL.schedCore.running.completedQueue=e.completedQueue,this.GLOBAL.schedCore.running.jobGeneratorQueue=e.jobGeneratorQueue,this.GLOBAL.schedCore.running.serverLog=e.serverLog,this.GLOBAL.schedCore.globalTime=e.currentTime,this.$refs[this.currentView].changeGlobalData("")}}},ie=re,ae=(n("d422"),Object(a["a"])(ie,y,J,!1,null,"556cb0a4",null)),oe=ae.exports;s["default"].use(d["a"]);var le=[{path:"/",name:"Index",component:B},{path:"/simulation",name:"Simulation",component:oe}],ue=new d["a"]({mode:"hash",routes:le}),ce=ue,de=n("2f62");s["default"].use(de["a"]);var he=new de["a"].Store({state:{},mutations:{},actions:{},modules:{}}),me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gloabl"})},ve=[],pe=(n("99af"),n("4e82"),n("acd8"),n("1276"),{config:{jobs:[{sizeFun:"deterministic",sizeFunPara:"1",speedupFun:"power",speedupFunPara:"0.5",color:"#e38f61",id:"0",proportionVal:10},{sizeFun:"exponential",sizeFunPara:"1",speedupFun:"power",speedupFunPara:"0.5",color:"#fdbb3a",id:"2",proportionVal:10},{sizeFun:"uniform",sizeFunPara:"0,2",speedupFun:"power",speedupFunPara:"0.5",color:"#589fed",id:"1",proportionVal:10}],arrivalRate:10,serverCluster:16,algorithmName:"equi",algorithm:""},status:!1,globalTime:0,running:{queue:[],jobsDict:{},lastEleventJobs:[],completedQueue:[],totalCostTimeForCompletedJobs:0,jobGeneratorQueue:[],totalJobsNum:0,currentMeanTime:0,availableNodeNum:0,serverTaskList:[],serverLog:[],meanTimeLog:[]}}),ge={JobGenerator:function(e){this.id=e.id,this.sizeFun=e.sizeFun,this.sizeFunPara=e.sizeFunPara,this.speedupFun=e.speedupFun,this.speedupFunPara=e.speedupFunPara,this.color=e.color,this.totalNumber=0,this.totalSize=0,this.proportionVal=e.proportionVal,this.nextGenerateTime=pe.globalTime+be(e.proportionVal),this.log=[]},Job:function(e,t,n,s,r,i,a){this.id=e,this.size=Ce(t,n),this.currentSize=this.size,this.jobClass=i,this.speedupFun=s,this.speedupFunPara=r,this.name=i+"_"+e,this.usedNodeNumber=0,this.speedup=Le(s,r,this.usedNodeNumber),this.leftTime=1/0,this.generateTime=a,this.completedTime=0,this.log=[]}};function fe(e,t,n,s,r,i,a){n.serverTaskList.sort((function(e,t){return e.leftTime-t.leftTime}));var o=[],l=0,u=n.availableNodeNum;if(0!=n.serverTaskList.length){o.push(n.serverTaskList[0]);for(var c=1;c<n.serverTaskList.length;c++){if(n.serverTaskList[0].leftTime!=n.serverTaskList[c].leftTime)break;o.push(n.serverTaskList[c])}}0!=o.length&&(l=o[0].leftTime);for(var d=0;d<o.length;d++){u+=o[d].usedNodeNumber;var h=o[0];h.currentSize=0,h.leftTime=0,h.usedNodeNumber=0,h.speedup=0,h.completedTime=a+l,h.log.push({time:a+l,size:0}),e.running.totalCostTimeForCompletedJobs+=h.completedTime-h.generateTime,e.running.currentMeanTime=xe(e),e.running.meanTimeLog.push({totalTime:e.running.totalCostTimeForCompletedJobs,num:e.running.completedQueue.length,meanTime:e.running.currentMeanTime}),r.push(h),n.serverTaskList.shift()}for(var m=0;m<n.serverTaskList.length;m++){var v=n.serverTaskList[m];v.currentSize-=v.speedup*l,v.leftTime=v.currentSize/v.speedup}var p=[],g=Ae(e,i,l);p=g.newJobs,t=t.concat(p);while(u>0){if(!(t.length>0))break;n.serverTaskList.push(t[0]),t.shift(),u-=1}if(a+=l,a<g.currentTime&&(a=g.currentTime),0!=n.serverTaskList.length){u=0;for(var f=n.serverNum%n.serverTaskList.length,b=Math.floor(n.serverNum/n.serverTaskList.length),C=0;C<n.serverTaskList.length;C++){var L=n.serverTaskList[C];L.usedNodeNumber=b,L.speedup=Le(L.speedupFun,L.speedupFunPara,b),L.leftTime=L.currentSize/L.speedup,L.log.push({time:a,size:L.currentSize})}0!=f&&(n.serverTaskList[0].usedNodeNumber+=f,n.serverTaskList[0].speedup=Le(n.serverTaskList[0].speedupFun,n.serverTaskList[0].speedupFunPara,n.serverTaskList[0].usedNodeNumber))}for(var A={time:a,usedNumber:n.serverNum-u,list:[]},T=0;T<n.serverTaskList.length;T++)A.list.push({name:n.serverTaskList[T].name,number:n.serverTaskList[T].usedNodeNumber});e.running.serverLog.push(A);var w={schedCore:e,queue:t,serverInfo:{serverTaskList:n.serverTaskList,serverNum:n.serverNum,availableNodeNum:u},jobsDict:s,completedQueue:r,jobGeneratorQueue:i,currentTime:a,serverLog:e.running.serverLog};return w}function be(e){var t=1;return 1!=e&&0!=e&&(t=e),-Math.log(1-Math.random())/t}function Ce(e,t){for(var n=t.split(","),s=0;s<n.length;s++)n[s]=parseFloat(n[s]);var r=0;while(r<1e-6)"exponential"==e?r=Te(n):"deterministic"==e?r=we(n):"uniform"==e?r=Be(n):"erlang"==e?r=ye(n):"pareto"==e&&(r=Je(n));return r}function Le(e,t,n){return t=parseFloat(t),0==n?0:"power"==e?1*Math.pow(n,t):"amdahl"==e?1/(1-t+t/n)*1:1*t}function Ae(e,t,n){t.sort((function(e,t){return e.nextGenerateTime-t.nextGenerateTime}));var s={currentTime:0,newJobs:[]};if(0==n){s.currentTime=t[0].nextGenerateTime;var r=new ge.Job(t[0].totalNumber.toString(),t[0].sizeFun,t[0].sizeFunPara,t[0].speedupFun,t[0].speedupFunPara,t[0].id,s.currentTime);s.newJobs.push(r),e.running.jobsDict[r.name]=r,t[0].log.push({time:r.generateTime,size:r.size,id:r.id}),t[0].totalNumber+=1,t[0].totalSize+=r.size,t[0].nextGenerateTime=s.currentTime+be(t[0].proportionVal)}else{var i=e.globalTime+n;while(i>=t[0].nextGenerateTime){var a=new ge.Job(t[0].totalNumber.toString(),t[0].sizeFun,t[0].sizeFunPara,t[0].speedupFun,t[0].speedupFunPara,t[0].id,t[0].nextGenerateTime);s.newJobs.push(a),e.running.jobsDict[a.name]=a,t[0].log.push({time:a.generateTime,size:a.size,id:a.id}),t[0].totalNumber+=1,t[0].totalSize+=a.size,t[0].nextGenerateTime+=be(t[0].proportionVal),t.sort((function(e,t){return e.nextGenerateTime-t.nextGenerateTime}))}}e.running.totalJobsNum+=s.newJobs.length;for(var o=[],l=11,u=s.newJobs.length-1;u>=0&&l>0;u--)o.push(s.newJobs[u].size.toFixed(4)),l--;for(var c=e.running.lastEleventJobs.length-1;c>=0&&l>0;c--)o.push(e.running.lastEleventJobs[c]),l--;var d=0,h=o.length-1;while(h>d){var m=o[d];o[d]=o[h],o[h]=m,h--,d++}return e.running.lastEleventJobs=o,s}function Te(e){var t=e[0];return 1!=e&&0==e.length&&(t=.025),-Math.log(1-Math.random())/t}function we(e){var t=1;return 0!=e.length&&(t=e[0]),t}function Be(e){var t=0,n=2;return 0!=e.length&&(t=e[0],n=e[1]),t+Math.random()*(n-t)}function ye(e){var t=2,n=1;0!=e.length&&(t=e[0],n=e[1]);for(var s=0,r=0;r<t;r++)s+=-Math.log(1-Math.random())/n;return s}function Je(e){var t=2|t,n=1|n,s=s|n;return 0!=e.length&&(t=e[0],n=e[1],s=e[2]),s+n*(Math.pow(1-Math.random(),-1/t)-1)}function xe(e){return 0!=e.running.completedQueue.length?e.running.totalCostTimeForCompletedJobs/e.running.completedQueue.length:0}var Ne={name:"globalVariables",schedCore:pe,Objects:ge,shedulingAlgorithm:fe},Se=Ne,ke=Object(a["a"])(Se,me,ve,!1,null,"5c48beef",null),Oe=ke.exports,Ge=n("98c9");s["default"].use(Ge["a"]),s["default"].prototype.GLOBAL=Oe,s["default"].config.productionTip=!1,new s["default"]({router:ce,store:he,render:function(e){return e(u)}}).$mount("#app")},cf05:function(e,t){e.exports="data:image/png;base64,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"},d329:function(e,t,n){},d422:function(e,t,n){"use strict";var s=n("5340"),r=n.n(s);r.a}});
//# sourceMappingURL=app.ad3f1a1d.js.map